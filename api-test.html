<!DOCTYPE html>
<html>
<head>
    <title>API Service Test</title>
</head>
<body>
    <h1>API Service Test</h1>
    <button id="testRoleAPI">Test Role API</button>
    <button id="createTestRole">Create Test Role</button>
    <button id="getRoles">Get All Roles</button>
    <div id="results"></div>

    <script type="module">
        import { apiService } from './services/apiService.browser.js';
        
        document.getElementById('testRoleAPI').addEventListener('click', async () => {
            try {
                const result = await apiService.testRoleAPI();
                document.getElementById('results').innerHTML = '<pre>' + JSON.stringify(result, null, 2) + '</pre>';
            } catch (error) {
                document.getElementById('results').innerHTML = '<pre>Error: ' + error.message + '</pre>';
            }
        });
        
        document.getElementById('createTestRole').addEventListener('click', async () => {
            try {
                const testRole = {
                    name: 'Test Role',
                    description: 'A test role for API validation',
                    permissions: ['read', 'write'],
                    color: 'blue',
                    bgColor: 'bg-blue-500',
                    createdBy: 'test-user'
                };
                
                const result = await apiService.createRole(testRole);
                document.getElementById('results').innerHTML = '<pre>' + JSON.stringify(result, null, 2) + '</pre>';
            } catch (error) {
                document.getElementById('results').innerHTML = '<pre>Error: ' + error.message + '</pre>';
            }
        });
        
        document.getElementById('getRoles').addEventListener('click', async () => {
            try {
                const result = await apiService.getRoles();
                document.getElementById('results').innerHTML = '<pre>' + JSON.stringify(result, null, 2) + '</pre>';
            } catch (error) {
                document.getElementById('results').innerHTML = '<pre>Error: ' + error.message + '</pre>';
            }
        });
    </script>
</body>
</html>